(this["webpackJsonpreact-flicker"]=this["webpackJsonpreact-flicker"]||[]).push([[0],{10:function(e,t,c){e.exports=c(18)},15:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(7),l=c.n(r),s=(c(15),c(1)),o=c(2),i=c(4),u=c(3),d=c(9),m=c(5),f=c.n(m),h=c(8),p="Gallery is empty and no image is selected...",g=1,S=0,y=[],b=[],v="Show gallery",E=function(e){Object(i.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(s.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={id:[],pics:[],numberOfPics:0,currentSrc:""},e.goBack=function(){g<=0?g=S-1:g--,e.updateState()},e.goForward=function(){g>=S-1?g=0:g++,e.updateState()},e.updateState=function(){e.setState({id:y,pics:b},(function(){null!==document.querySelector(".fullscreen")&&e.setState({currentSrc:document.querySelector(".fullscreen").src})})),0===e.props.selectedPics.length?(v="Show gallery",p="Gallery is empty and no image is selected..."):(v="Refresh gallery",p="Refresh the gallery to add new selected image/images"),e.setState({id:y,pics:b},(function(){}))},e.deletePic=function(){null!==document.querySelector(".fullscreen")&&e.deletePics()},e.getSelected=function(){y=[],b=[],g<=0||g--,S=0;var t=e.props.selectedPics;e.setState({numberOfPics:t.length}),t.forEach((function(e){y.push(S),b.push('<img class="fullscreen" id="'.concat(S++,'" key="').concat(e.id,'" alt="').concat(e.alt,'" src="').concat(e.src,'"></img>'))})),e.updateState()},e}return Object(o.a)(c,[{key:"deletePics",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.delSelected(this.state.currentSrc);case 3:this.getSelected(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0+" to delete pictures");case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("button",{onClick:this.getSelected},v),a.a.createElement("button",{onClick:this.deletePic},"Delete this picture from the gallery"),a.a.createElement("br",null),a.a.createElement("p",null,p),a.a.createElement("br",null),a.a.createElement("div",{className:"my-custom-select",dangerouslySetInnerHTML:{__html:this.state.pics[g]}}),a.a.createElement("button",{className:"arrowKey",onClick:this.goBack}," ","<--"," "),a.a.createElement("button",{className:"arrowKey",onClick:this.goForward}," ","--\x3e"," "))}}]),c}(n.Component),k=0,j=function(e){Object(i.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(s.a)(this,c);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:"",id:[],pics:[],selected:[]},e.delSelected=function(t){e.setState({selected:e.state.selected.filter((function(e){if(e.src!==t)return e;document.querySelectorAll(".selected").forEach((function(e){t===e.src&&e.classList.toggle("selected")}))}))},(function(){return new Promise((function(t,c){t(e.state.selected.length),c("fail")}))}))},e.selectImg=function(t){document.getElementById(t.target.id).classList.toggle("selected");for(var c=!1,n=0;n<e.state.selected.length;n++)t.target.src===e.state.selected[n].src&&(c=!0);c?e.setState({selected:e.state.selected.filter((function(e){return e.src!==t.target.src}))}):e.setState({selected:[].concat(Object(d.a)(e.state.selected),[t.target])})},e.searchImg=function(t){fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=b54580f369a7eeebecb2004dc429d08f&format=json&nojsoncallback=1&text="+t).then((function(e){return e.json()})).then((function(c){var n=c.photos.photo.map((function(c){var n="https://farm".concat(c.farm,".staticflickr.com/").concat(c.server,"/").concat(c.id,"_").concat(c.secret,".jpg");return e.setState({id:++k}),a.a.createElement("img",{width:"300",height:"300",onClick:e.selectImg,id:k,key:k,alt:t,src:n})}));e.setState({pics:n}),document.querySelectorAll("img").forEach((function(t){e.state.selected.forEach((function(e){t.src!==e.src||t.classList.contains("fullscreen")||document.getElementById(t.id).classList.toggle("selected")}))}))})).catch((function(e){console.log("Oops! Something went wrong..."),console.log(e)}))},e.onChange=function(t){e.setState({title:t.target.value})},e.onSubmit=function(t){t.preventDefault(),""!==e.state.title&&(e.searchImg(e.state.title),e.setState({title:""}))},e}return Object(o.a)(c,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{type:"text",name:"",placeholder:"Type to search...",value:this.state.title,onChange:this.onChange}),a.a.createElement("input",{type:"submit",name:"submit"})),a.a.createElement(E,{selectedPics:this.state.selected,delSelected:this.delSelected}),this.state.pics)}}]),c}(n.Component),w=(c(17),function(e){Object(i.a)(c,e);var t=Object(u.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(j,null)))}}]),c}(n.Component));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.dfd683c3.chunk.js.map