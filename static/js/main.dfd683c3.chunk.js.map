{"version":3,"sources":["components/Pictures.js","components/Search.js","App.js","index.js"],"names":["userMsg","picIndex","numCount","listOfIds","listOfPics","galleryBtn","Pictures","state","id","pics","numberOfPics","currentSrc","goBack","updateState","goForward","setState","document","querySelector","src","props","selectedPics","length","deletePic","deletePics","getSelected","imgList","forEach","el","push","alt","this","delSelected","console","log","onClick","className","dangerouslySetInnerHTML","__html","Component","numberCount","Search","title","selected","filter","querySelectorAll","elements","classList","toggle","Promise","resolve","reject","selectImg","e","getElementById","target","matchEl","x","searchImg","fetch","then","response","json","picArray","photos","photo","map","pic","srcPath","farm","server","secret","width","height","key","ourSelected","contains","catch","error","onChange","value","onSubmit","preventDefault","type","name","placeholder","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dfd683c3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nlet userMsg = \"Gallery is empty and no image is selected...\";\r\nlet picIndex = 1;\r\nlet numCount = 0;\r\nlet listOfIds = [];\r\nlet listOfPics = [];\r\nlet galleryBtn = \"Show gallery\";\r\nexport default class Pictures extends Component {\r\n  state = {\r\n    id: [],\r\n    pics: [],\r\n    numberOfPics: 0,\r\n    currentSrc: \"\",\r\n  };\r\n  goBack = () => {\r\n    if (picIndex <= 0) {\r\n      picIndex = numCount - 1;\r\n    } else {\r\n      picIndex--;\r\n    }\r\n    this.updateState();\r\n  };\r\n  goForward = () => {\r\n    if (picIndex >= numCount - 1) {\r\n      picIndex = 0;\r\n    } else {\r\n      picIndex++;\r\n    }\r\n    this.updateState();\r\n  };\r\n  updateState = () => {\r\n    this.setState(\r\n      {\r\n        id: listOfIds,\r\n        pics: listOfPics,\r\n      },\r\n      () => {\r\n        let selection = document.querySelector(\".fullscreen\") !== null;\r\n        if (selection) {\r\n          this.setState({\r\n            currentSrc: document.querySelector(\".fullscreen\").src,\r\n          });\r\n        }\r\n      }\r\n    );\r\n    if (this.props.selectedPics.length === 0) {\r\n      galleryBtn = \"Show gallery\";\r\n      userMsg = \"Gallery is empty and no image is selected...\";\r\n    } else {\r\n      galleryBtn = \"Refresh gallery\";\r\n      userMsg = \"Refresh the gallery to add new selected image/images\";\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        id: listOfIds,\r\n        pics: listOfPics,\r\n      },\r\n      () => {}\r\n    );\r\n  };\r\n\r\n  async deletePics() {\r\n    try {\r\n      await this.props.delSelected(this.state.currentSrc);\r\n      this.getSelected();\r\n    } catch (error) {\r\n      console.log(error + \" to delete pictures\");\r\n    }\r\n  }\r\n  deletePic = () => {\r\n    let selection = document.querySelector(\".fullscreen\") !== null;\r\n    if (selection) {\r\n      this.deletePics();\r\n    }\r\n  };\r\n\r\n  getSelected = () => {\r\n    listOfIds = [];\r\n    listOfPics = [];\r\n    if (!(picIndex <= 0)) {\r\n      picIndex--;\r\n    }\r\n    numCount = 0;\r\n    const imgList = this.props.selectedPics;\r\n    this.setState({\r\n      numberOfPics: imgList.length,\r\n    });\r\n\r\n    imgList.forEach((el) => {\r\n      listOfIds.push(numCount);\r\n      listOfPics.push(\r\n        `<img class=\"fullscreen\" id=\"${numCount++}\" key=\"${el.id}\" alt=\"${\r\n          el.alt\r\n        }\" src=\"${el.src}\"></img>`\r\n      );\r\n    });\r\n\r\n    this.updateState();\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button onClick={this.getSelected}>{galleryBtn}</button>\r\n        <button onClick={this.deletePic}>\r\n          Delete this picture from the gallery\r\n        </button>\r\n        <br></br>\r\n        <p>{userMsg}</p>\r\n        <br></br>\r\n        <div\r\n          className=\"my-custom-select\"\r\n          dangerouslySetInnerHTML={{ __html: this.state.pics[picIndex] }}\r\n        ></div>\r\n        <button className=\"arrowKey\" onClick={this.goBack}>\r\n          {\" \"}\r\n          {\"<--\"}{\" \"}\r\n        </button>\r\n        <button className=\"arrowKey\" onClick={this.goForward}>\r\n          {\" \"}\r\n          {\"-->\"}{\" \"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Pictures from \"./Pictures\";\r\nlet numberCount = 0;\r\nexport default class Search extends Component {\r\n  state = {\r\n    title: \"\",\r\n    id: [],\r\n    pics: [],\r\n    selected: [],\r\n  };\r\n  delSelected = (src) => {\r\n    this.setState(\r\n      {\r\n        selected: this.state.selected.filter((el) => {\r\n          if (el.src !== src) {\r\n            return el;\r\n          } else {\r\n            document.querySelectorAll(\".selected\").forEach((elements) => {\r\n              if (src === elements.src) {\r\n                elements.classList.toggle(\"selected\");\r\n              }\r\n            });\r\n          }\r\n        }),\r\n      },\r\n      () => {\r\n        return new Promise((resolve, reject) => {\r\n          resolve(this.state.selected.length);\r\n          reject(\"fail\");\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  selectImg = (e) => {\r\n    document.getElementById(e.target.id).classList.toggle(\"selected\");\r\n\r\n    let matchEl = false;\r\n    for (let x = 0; x < this.state.selected.length; x++) {\r\n      if (e.target.src === this.state.selected[x].src) {\r\n        matchEl = true;\r\n      }\r\n    }\r\n    if (matchEl) {\r\n      this.setState({\r\n        selected: this.state.selected.filter(\r\n          (selected) => selected.src !== e.target.src\r\n        ),\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selected: [...this.state.selected, e.target],\r\n      });\r\n    }\r\n  };\r\n\r\n  searchImg = (title) => {\r\n    fetch(\r\n      `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=b54580f369a7eeebecb2004dc429d08f&format=json&nojsoncallback=1&text=` +\r\n        title\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((json) => {\r\n        let picArray = json.photos.photo.map((pic) => {\r\n          let srcPath = `https://farm${pic.farm}.staticflickr.com/${pic.server}/${pic.id}_${pic.secret}.jpg`;\r\n          this.setState({\r\n            id: ++numberCount,\r\n          });\r\n          return (\r\n            <img\r\n              width=\"300\"\r\n              height=\"300\"\r\n              onClick={this.selectImg}\r\n              id={numberCount}\r\n              key={numberCount}\r\n              alt={title}\r\n              src={srcPath}\r\n            ></img>\r\n          );\r\n        });\r\n        this.setState({\r\n          pics: picArray,\r\n        });\r\n\r\n        document.querySelectorAll(\"img\").forEach((el) => {\r\n          this.state.selected.forEach((ourSelected) => {\r\n            if (\r\n              el.src === ourSelected.src &&\r\n              !el.classList.contains(\"fullscreen\")\r\n            )\r\n              document.getElementById(el.id).classList.toggle(\"selected\");\r\n          });\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Oops! Something went wrong...\");\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  onChange = (e) => {\r\n    this.setState({ title: e.target.value });\r\n  };\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.title !== \"\") {\r\n      this.searchImg(this.state.title);\r\n      this.setState({ title: \"\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.onSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"\"\r\n            placeholder=\"Type to search...\"\r\n            value={this.state.title}\r\n            onChange={this.onChange}\r\n          />\r\n\r\n          <input type=\"submit\" name=\"submit\" />\r\n        </form>\r\n        <Pictures\r\n          selectedPics={this.state.selected}\r\n          delSelected={this.delSelected}\r\n        />\r\n        {this.state.pics}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport Search from \"./components/Search.js\";\nimport \"./App.css\";\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Search />\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}